<!-- <p>cart works!</p> -->
<div class="text-center">
  <h3 style="color:black">Checkout:</h3>
  </div>
  <div class="container">
    <div [hidden]="oo_success">
  <table class="table table-hover table-striped">
      <thead>
          <tr>
              <th>Item ID</th>
              <th>Name</th>
              <th>Availability</th>
              <th>Price</th>
              <th>Item Type</th>
              <th>Quantity</th>
              <th>Items Price</th>
              <!-- <th></th> -->
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let item of items">
              <td>{{item.item_id}}</td>
              <td>{{item.item_name}}</td>
              <td>{{item.availability}}</td>
              <td>{{item.price}}</td>
              <td>{{item.item_type}}</td>
              <td>{{item.quantity}}</td>
              <td>{{item.quantity*item.price}}</td>

              <!-- <button class="btn btn-primary" (click)="itemToCart(item.item_id, 2)">Add to Cart</button> -->
              <!-- <button class="btn btn-primary" (click)="showUpdateItem(item.item_id)">Edit</button> -->
              <!-- <button class="btn btn-primary" (click)="deleteCart(item.item_id)">Delete</button> -->
            </tr>
      </tbody>
      </table>

      <p>Items Total: {{this.total_price}}    Net Total: {{this.net_price}}</p>
      <div [hidden]="applied">
      <p>Coupons</p>
      <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Coupon ID</th>
                <th>Coupon Text</th>
                <th>Coupon Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Is Used</th>
                <th>Use Date</th>
                <!-- <th>Use Time</th> -->
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let coupon of coupons">
                <td>{{coupon.coupon_id}}</td>
                <td>{{coupon.coupon_txt}}</td>
                <td>{{coupon.coupon_type}}</td>
                <td>{{coupon.start_date}}</td>
                <td>{{coupon.end_date}}</td>
                <td>{{coupon.is_used}}</td>
                <td>{{coupon.use_date}}</td>
                <!-- <td>{{coupon.use_time}}</td> -->
                <!-- <td>{{item.quantity*item.price}}</td> -->

                <button [hidden]="coupon.is_used" class="btn btn-primary" (click)="couponApply(coupon.coupon_id)">Apply</button>
                <!-- <button class="btn btn-primary" (click)="showUpdateItem(item.item_id)">Edit</button> -->
                <!-- <button class="btn btn-primary" (click)="deleteCart(item.item_id)">Delete</button> -->
              </tr>
        </tbody>
      <!-- <a routerLink="/checkout" class="btn btn-primary active" role="button" routerLinkActive="active">Checkout</a> -->


  </table>
  </div>
  <button [hidden]="!payOption" class="btn btn-primary" (click)="payment()">Pay {{this.net_price}}</button>
  <button [hidden]="payOption" class="btn btn-primary" (click)="payment1(1)">Success</button>
  <button [hidden]="payOption" class="btn btn-primary" (click)="payment1(0)">Fail</button>
</div>
  <div [hidden]="!oo_success">
    <p>Order placed successfully</p>
    <!-- <p>Distance to deliver: {{this.est_time}}</p> -->
    <p>Estimated time to deliver: {{this.est_time}} minutes</p>
    <p>Delivery Agent Details:</p>
    <p>Name: {{this.dp_id['dp_name']}}</p>
    <p>Contact: {{this.dp_id['phone_no']}}</p>
    <p>Rating: {{this.dp_id['rating']}}</p>
  </div>
  </div>
